<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.9.2 from src/site/markdown/usage/index.md.vm at 2022-05-02
 | Rendered using Apache Maven Fluido Skin 1.8
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.9.2" />
    <title>model-lddtool &#x2013; Usage</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.8.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />
    <script src="../js/apache-maven-fluido-1.8.min.js"></script>
  </head>
  <body class="topBarDisabled">
    <div class="container-fluid">
      <header>
        <div id="banner">
          <div class="pull-left"><a href="https://pds.nasa.gov" id="bannerLeft"><img src="../images/pds4_logo.png"  alt=""/></a></div>
          <div class="pull-right"><div id="bannerRight"><h2>PDS4 Local Data Dictionary Tool</h2>
</div>
</div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2022-05-02<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 14.0.1</li>
      <li class="pull-right"><span class="divider">|</span>
<a href="../index.html" title="PDS4 Local Data Dictionary Tool">PDS4 Local Data Dictionary Tool</a></li>
      <li class="pull-right"><a href="../../pds4-information-model" title="PDS4 Information Model Project">PDS4 Information Model Project</a></li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Software Documentation</li>
    <li><a href="../index.html" title="About LDDTool"><span class="none"></span>About LDDTool</a></li>
    <li><a href="../install/index.html" title="Installation"><span class="none"></span>Installation</a></li>
    <li class="active"><a href="#"><span class="none"></span>Usage</a></li>
    <li><a href="../index.html#Support" title="Support"><span class="none"></span>Support</a></li>
   <li class="nav-header">Downloads</li>
    <li><a href="https://github.com/NASA-PDS/pds4-information-model/releases/download/v14.0.1/lddtool-14.0.1-bin.tar.gz" class="externalLink" title="Current Release (tar.gz)"><span class="none"></span>Current Release (tar.gz)</a></li>
    <li><a href="https://github.com/NASA-PDS/pds4-information-model/releases/download/v14.0.1/lddtool-14.0.1-bin.zip" class="externalLink" title="Current Release (zip)"><span class="none"></span>Current Release (zip)</a></li>
    <li><a href="../index.html#PDS4_Standards_and_LDDTool_Versions" title="Past Releases"><span class="none"></span>Past Releases</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="../project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="../project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <hr />
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn"  class="span10" >
<h1>Usage</h1>
<ul>

<li><a href="#Running_LDDTool_on_the_Example_Files">Running LDDTool on the Example Files</a>
<ul>

<li><a href="#Expected_Results">Expected Results</a></li>
<li><a href="#Checking_for_Success">Checking for Success</a></li>
</ul>
</li>
<li><a href="#Generating_Discipline_LDDs">Generating Discipline LDDs</a></li>
<li><a href="#Generating_Mission_LDDs">Generating Mission LDDs</a></li>
<li><a href="#Generate_LDD_with_Specific_PDS4_Version">Generate LDD with Specific PDS4 Version</a></li>
<li><a href="#Common_Errors">Common Errors</a></li>
</ul>
<p>Once installed you can view the usage information as follows:</p>

<div class="source">
<div class="source"><pre class="prettyprint">$ lddtool-14.0.1/bin/lddtool -h

Usage: lddtool -pl [OPTION]... FILE1 FILE2 ...
Parse a local data dictionary definition file and generate PDS4 data standard files.

Example: lddtool -pl  inputFileName

Process control:
  -p, --PDS4      Set the context to PDS4
  -l, --LDD       Process a local data dictionary input file
  -D, --DataDict  Write the Data Dictionary DocBook file.
  -J, --JSON      Write the data dictionary to a JSON formatted file.
  -m, --merge     Generate file to merge the local dictionary into the master dictionary
  -M, --Mission   This option has no effect starting with PDS4 IM Version 1.14.0.0. See the LDDTool Usage document for more information on how to provide this information.
  -n, --nuance    Write nuance property maps to LDD schema annotation in JSON
  -N, --Namespace Print the list of configured namespaces to the log
  -1, --IM Spec   Write the Information Model Specification for an LDD.
  -v, --version   Returns the LDDTool version number
  -h, --help      Print this message

  -V, --IM Version - E.g., -V 1D00.
        The configured IM Versions are:[1F00, 1E00, 1D00, 1C00, 1B10, 1B00]

Input control:
  FILE provides the file name of an input file. The file name extension .xml is assumed.
    If there are more than one file, the first files are considered references
    for the last file. The last file is considered the primary local data dictionary.

Output control:
  FILE is used to provide the file name for the output files. The file name extensions are distinct.
  .xsd -- XML Schema file
  .sch -- schematron file
  .xml -- label file
  .csv -- data dictionary information in csv formatted file.
  .JSON -- dump of model in JSON format.
  .txt -- process report in text format
  .pont -- ontology file for merge
</pre></div></div>

<p>You can view the version number for the executable:</p>

<div class="source">
<div class="source"><pre class="prettyprint">$ lddtool-14.0.1/bin/lddtool -v

LDDTool Version: 10.1.0
Built with IM Version: 1.15.0.0
Build Date: 2020-07-27 16:17:50
Configured IM Versions: [1F00, 1E00, 1D00, 1C00, 1B10, 1B00]
</pre></div></div>

<p>If this does not execute successfully, please return to the installation guide and ensure the software was installed correctly, or contact (PDS Operator)[mailto:pds-operator@jpl.nasa.gov] for assistance.</p><section>
<h2><a name="Running_LDDTool_on_the_Example_Files"></a>Running LDDTool on the Example Files</h2>
<p>To test out running LDDTool, download an existing LDD from the <a class="externalLink" href="https://github.com/pds-data-dictionaries/">PDS Data Dictionaries repo</a>. A couple examples:</p>
<ul>

<li>IMG Discipline LDD - <a class="externalLink" href="https://github.com/pds-data-dictionaries/ldd-img/blob/master/src/PDS4_IMG_IngestLDD.xml">https://github.com/pds-data-dictionaries/ldd-img/blob/master/src/PDS4_IMG_IngestLDD.xml</a></li>
<li>GEOM Discipline LDD - <a class="externalLink" href="https://github.com/pds-data-dictionaries/ldd-geom/blob/master/src/PDS4_GEOM_IngestLDD.xml">https://github.com/pds-data-dictionaries/ldd-geom/blob/master/src/PDS4_GEOM_IngestLDD.xml</a></li>
</ul>
<p>To execute, run:</p>

<div class="source">
<div class="source"><pre class="prettyprint">lddtool -lp PDS4_IMG_IngestLDD.xml`
</pre></div></div>
</section><section>
<h2><a name="Expected_Results"></a>Expected Results</h2>
<p>The example <i>lddtool</i> command above will generate a total of five output files in addition to the <i>.out</i> listing file. The files will all have the same <i>lddtool</i>-generted names but different extensions. Here are those extensions, in approximate order of usefulness:</p>
<ul>

<li><b>.xsd</b>: This is the XML Schema file that you will reference in your labels when you want to use classes from this dictionary.</li>
<li><b>.sch</b>: This is the Schematron file that you will also reference in your labels when you want to use classes from this dictionary.</li>
<li><b>.csv</b>: This is a CSV-formatted summary of the dictionary contents. You might find this a useful way to review the results if you're averse to reading schema and don't have labels already written to exercise the newly-produced schemas. You might also find this to be a useful file for passing to reviewers who want to see class and attribute definitions - though maybe with a little editing first.</li>
<li><b>.xml</b>: This is a label for the XML Schema and Schematron files; probably only useful as a template. SBN strongly recommends that rather than creating a label from scratch each time, you modify an existing label at reasonable intervals in order to maintain a <code>&lt;Modification_History&gt;</code> within the label that accurately reflects the development history of the dictionary (as any other product label should for an archival product). At the very least, the schema label should be modified to identify the unique origin and application of the dictionary files it describes. Trying to get the unmodified label produced here through an SBN review is unlikely to be successful.</li>
</ul></section><section>
<h2><a name="Checking_for_Success"></a>Checking for Success</h2>
<p>If you compare the output files from the above commands to what came in the example zip file, you should see differences in date stamps and local paths, but otherwise nothing else. Mage sure your option string is <b>-lp</b> (lowercase letter &#x201c;ell&#x201d;), or you will get a slightly different set of output files or a different namespace definition in the output schemas.</p>
<p>If you run the tool on your own input file, the first thing to check is the program output listing, which will scroll past on your screen if you don&#x2019;t redirect it to a file. The last line of that listing should look like this:</p>

<div class="source">
<div class="source"><pre class="prettyprint">   &gt;&gt;info    - LDDTOOL Exit
</pre></div></div>

<p>This indicates at least some measure of success. Depending on how complex your input file is, there will be a few dozen to a few hundred &#x201c;INFO&#x201d; lines containing messages about various override conditions. This is normal. It should <i>not</i> contain any &#x201c;ERROR&#x201d; lines or lines beginning with <code>&gt;&gt;error</code>. These indicate some sort of failure. There may be also be &#x201c;WARNING&#x201d; lines that look like this:</p>

<div class="source">
<div class="source"><pre class="prettyprint">   WARNING  Header:  - New steward has been specified:sbn
   WARNING  Header:  - New namespace id has been specified:ex
</pre></div></div>

<p>unless you are updating a dictionary that is already known to LDDTool. Other &#x201c;WARNING&#x201d; statements, however, are problematic and should be investigated.</p>
<p>Once you&#x2019;ve verified expected output, you should be good to go.</p></section><section>
<h2><a name="Generating_Discipline_LDDs"></a>Generating Discipline LDDs</h2>
<p>A discipline level LDD is generated by running LDDTool on a data dictionary definition file that has the attribute &#x201c;dictionary_type&#x201d; set to the value &#x201c;Discipline&#x201d;. Instructions and examples of how to create a data dictionary definition file (aka IngestLDD.xml) can be found at the SBN PDS4 Wiki.</p>
<ul>

<li>Creating the Ingest LDD Dictionary Input File - <a class="externalLink" href="https://sbnwiki.astro.umd.edu/wiki/Creating_the_Ingest_LDD_Dictionary_Input_File">https://sbnwiki.astro.umd.edu/wiki/Creating_the_Ingest_LDD_Dictionary_Input_File</a></li>
</ul></section><section>
<h2><a name="Generating_Mission_LDDs"></a>Generating Mission LDDs</h2>
<p>A mission level LDD is generated by running LDDTool on a data dictionary definition file that has the attribute &#x201c;dictionary_type&#x201d; set to the value &#x201c;Misison&#x201d;. Instructions and examples of how to create a data dictionary definition file (aka IngestLDD.xml) can be found at the SBN PDS4 Wiki.</p>
<ul>

<li>Creating the Ingest LDD Dictionary Input File - <a class="externalLink" href="https://sbnwiki.astro.umd.edu/wiki/Creating_the_Ingest_LDD_Dictionary_Input_File">https://sbnwiki.astro.umd.edu/wiki/Creating_the_Ingest_LDD_Dictionary_Input_File</a></li>
</ul></section><section>
<h2><a name="Generate_LDD_with_Specific_PDS4_Version"></a>Generate LDD with Specific PDS4 Version</h2>
<p>LDDTool is a reflection of the PDS4 Information Model (IM), and in turn, has a major build in sync with the <a class="externalLink" href="https://pds.nasa.gov/datastandards/about/">PDS4 Build Schedule</a> (every 6 months).</p>
<p>By default, LDDTool builds with the latest version of the IM. As of LDDTool v12.0.0, it can now generate LDDs for older versions of the IM using the -V flag.</p>

<div class="source">
<div class="source"><pre class="prettyprint">  -V, --IM Version - E.g., -V 1D00
</pre></div></div>
</section><section>
<h2><a name="Common_Errors"></a>Common Errors</h2>
<p>The common failures encountered at this point come from system references not resolving. Here are the most likely suspects:</p>
<p><b>Cannot find DMDocument jar file in [some directory]</b></p>
<ul>

<li>

<p>This error is reported back to the command line by the <code>lddtool</code> wrapper, which checks for the existence of the <i>DMDocument.jar</i> file before invoking java on it. If you haven&#x2019;t previously set <code>PARENT_DIR</code> in the wrapper to point to the <code>LDDTool</code> installation directory, do so (in some environments this may be required even if you're using the default configuration). If you have already modified <code>PARENT_DIR</code>, search it for typos. The <code>PARENT_DIR</code> directory <i>must</i> contain a <code>lib/</code> subdirectory, which in turn must contain the <code>DMDocument.jar</code> file.</p>
</li>
<li>

<p>You&#x2019;ll also get this message if there is a typo in the <code>lib/</code> subdirectory name or <code>DMDocument.jar</code> name (case counts).</p>

<div class="source">
<div class="source"><pre class="prettyprint">&gt;&gt;error - Required data file was not found: [**some path to an XMLfile**]
</pre></div></div>
</li>
<li>

<p>This will show up as the last line in your listing if you forgot to include the <code>Data/</code> subdirectory of the <i>LDDTool</i> distribution in your installation <code>LDDTool</code> directory tree. Spelling and case count, so if you're on a linux-based system and accidentally changed &#x201c;<code>Data</code>&#x201d; to &#x201c;<code>data</code>&#x201d;, for example, you&#x2019;ll get this message.</p>
</li>
</ul>
<p><b>/bin/java: No such file or directory (This is the linux version of this error)</b></p>
<ul>

<li>Messages like this are reported to the command line and indicate that the <code>JAVA_HOME</code> setting either failed or points to the wrong place. If there's a typo in the <code>JAVA_HOME</code> setting, you might also see characters before &quot;/bin/java&quot; indicating what the script thinks <code>JAVA_HOME</code> was set to. The <code>JAVA_HOME</code> directory <i>must</i> contain a <code>bin/</code> subdirectory, which in turn must contain the <i>java</i> executable.</li>
</ul>
<p><b>&#xab; usage info dump &#xbb;</b></p>
<ul>

<li>If you get a dump of <i>lddtool</i> usage information when you run the test command on the example file, look at the very top - there&#x2019;s probably an error waiting for you. Make sure you spelled the input file name correctly and included the required <code>-lp</code> option set.</li>
</ul></section>
        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Copyright &#169;      2022<a href="https://pds.nasa.gov/">Planetary Data System</a>.
.</p>
        </div>
      </div>
    </footer>
  </body>
</html>
